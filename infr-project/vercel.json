{
	"functions": {
		"/api/**/*": {
			"maxDuration": 30
		}
	},
    "routes": [
        {
            "src": "/",
            "dest": "/api/resource.go?optype=all",
            "methods": [
                "GET",
                "OPTIONS"
            ],
            "headers": {
                "Access-Control-Allow-Origin": "*",
                "Access-Control-Allow-Methods": "*",
                "Access-Control-Allow-Headers": "*",
                "Access-Control-Expose-Headers": "*"
            }
        },
        {
            "src": "/api/v1/resource",
            "dest": "/api/resource.go?optype=all",
            "methods": [
                "GET",
                "OPTIONS"
            ],
            "headers": {
                "Access-Control-Allow-Origin": "*",
                "Access-Control-Allow-Methods": "*",
                "Access-Control-Allow-Headers": "*",
                "Access-Control-Expose-Headers": "*"
            }
        },
        {
            "src": "/api/v1/resource",
            "dest": "/api/resource.go?optype=create",
            "methods": [
                "POST",
                "OPTIONS"
            ],
            "headers": {
                "Access-Control-Allow-Origin": "*",
                "Access-Control-Allow-Methods": "*",
                "Access-Control-Allow-Headers": "*",
                "Access-Control-Expose-Headers": "*"
            }
        },
        {
            "src": "/api/v1/resource/(?<id>[^/]+)",
            "dest": "/api/resource.go?id=$id&optype=get",
            "methods": [
                "GET",
                "OPTIONS"
            ],
            "headers": {
                "Access-Control-Allow-Origin": "*",
                "Access-Control-Allow-Methods": "*",
                "Access-Control-Allow-Headers": "*",
                "Access-Control-Expose-Headers": "*"
            }
        },
        {
            "src": "/api/v1/resource/(?<id>[^/]+)",
            "dest": "/api/resource.go?id=$id&optype=update",
            "methods": [
                "PUT",
                "OPTIONS"
            ],
            "headers": {
                "Access-Control-Allow-Origin": "*",
                "Access-Control-Allow-Methods": "*",
                "Access-Control-Allow-Headers": "*",
                "Access-Control-Expose-Headers": "*"
            }
        },
        {
            "src": "/api/v1/resource/(?<id>[^/]+)",
            "dest": "/api/resource.go?id=$id&optype=delete",
            "methods": [
                "DELETE",
                "OPTIONS"
            ],
            "headers": {
                "Access-Control-Allow-Origin": "*",
                "Access-Control-Allow-Methods": "*",
                "Access-Control-Allow-Headers": "*",
                "Access-Control-Expose-Headers": "*"
            }
        },
        {
            "src": "/api/v1/resource/(?<id>[^/]+)/history",
            "dest": "/api/resource.go?id=$id&optype=history",
            "methods": [
                "GET",
                "OPTIONS"
            ],
            "headers": {
                "Access-Control-Allow-Origin": "*",
                "Access-Control-Allow-Methods": "*",
                "Access-Control-Allow-Headers": "*",
                "Access-Control-Expose-Headers": "*"
            }
        },
        {
            "src": "/api/v1/platform",
            "dest": "/api/platform.go?optype=all",
            "methods": [
                "GET",
                "OPTIONS"
            ],
            "headers": {
                "Access-Control-Allow-Origin": "*",
                "Access-Control-Allow-Methods": "*",
                "Access-Control-Allow-Headers": "*",
                "Access-Control-Expose-Headers": "*"
            }
        },
        {
            "src": "/api/v1/platform",
            "dest": "/api/platform.go?optype=create",
            "methods": [
                "POST",
                "OPTIONS"
            ],
            "headers": {
                "Access-Control-Allow-Origin": "*",
                "Access-Control-Allow-Methods": "*",
                "Access-Control-Allow-Headers": "*",
                "Access-Control-Expose-Headers": "*"
            }
        },
        {
            "src": "/api/v1/platform/(?<id>[^/]+)",
            "dest": "/api/platform.go?id=$id&optype=get",
            "methods": [
                "GET",
                "OPTIONS"
            ],
            "headers": {
                "Access-Control-Allow-Origin": "*",
                "Access-Control-Allow-Methods": "*",
                "Access-Control-Allow-Headers": "*",
                "Access-Control-Expose-Headers": "*"
            }
        },
        {
            "src": "/api/v1/platform/(?<id>[^/]+)",
            "dest": "/api/platform.go?id=$id&optype=update",
            "methods": [
                "PUT",
                "OPTIONS"
            ],
            "headers": {
                "Access-Control-Allow-Origin": "*",
                "Access-Control-Allow-Methods": "*",
                "Access-Control-Allow-Headers": "*",
                "Access-Control-Expose-Headers": "*"
            }
        },
        {
            "src": "/api/v1/platform/(?<id>[^/]+)",
            "dest": "/api/platform.go?id=$id&optype=delete",
            "methods": [
                "DELETE",
                "OPTIONS"
            ],
            "headers": {
                "Access-Control-Allow-Origin": "*",
                "Access-Control-Allow-Methods": "*",
                "Access-Control-Allow-Headers": "*",
                "Access-Control-Expose-Headers": "*"
            }
        },
        {
            "src": "/api/v1/platform/(?<id>[^/]+)/project/(?<project_id>[^/]+)/hook",
            "dest": "/api/platform.go?id=$id&project_id=$project_id&optype=hook",
            "methods": [
                "PUT",
                "OPTIONS"
            ],
            "headers": {
                "Access-Control-Allow-Origin": "*",
                "Access-Control-Allow-Methods": "*",
                "Access-Control-Allow-Headers": "*",
                "Access-Control-Expose-Headers": "*"
            }
        },
        {
            "src": "/api/v1/platform/(?<id>[^/]+)/project",
            "dest": "/api/platform.go?id=$id&optype=project",
            "methods": [
                "POST",
                "OPTIONS"
            ],
            "headers": {
                "Access-Control-Allow-Origin": "*",
                "Access-Control-Allow-Methods": "*",
                "Access-Control-Allow-Headers": "*",
                "Access-Control-Expose-Headers": "*"
            }
        },
        {
            "src": "/api/v1/platform/(?<id>[^/]+)/project/(?<project_id>[^/]+)project_id",
            "dest": "/api/platform.go?id=$id&project_id=$project_id&optype=prodel",
            "methods": [
                "DELETE",
                "OPTIONS"
            ],
            "headers": {
                "Access-Control-Allow-Origin": "*",
                "Access-Control-Allow-Methods": "*",
                "Access-Control-Allow-Headers": "*",
                "Access-Control-Expose-Headers": "*"
            }
        },
        {
            "src": "/api/v1/platform/(?<id>[^/]+)/project/(?<project_id>[^/]+)project_id",
            "dest": "/api/platform.go?id=$id&project_id=$project_id&optype=proup",
            "methods": [
                "PUT",
                "OPTIONS"
            ],
            "headers": {
                "Access-Control-Allow-Origin": "*",
                "Access-Control-Allow-Methods": "*",
                "Access-Control-Allow-Headers": "*",
                "Access-Control-Expose-Headers": "*"
            }
        },
        {
            "src": "/api/v1/project",
            "dest": "/api/project.go?optype=all",
            "methods": [
                "GET",
                "OPTIONS"
            ],
            "headers": {
                "Access-Control-Allow-Origin": "*",
                "Access-Control-Allow-Methods": "*",
                "Access-Control-Allow-Headers": "*",
                "Access-Control-Expose-Headers": "*"
            }
        },
        {
            "src": "/api/v1/project",
            "dest": "/api/project.go?optype=create",
            "methods": [
                "POST",
                "OPTIONS"
            ],
            "headers": {
                "Access-Control-Allow-Origin": "*",
                "Access-Control-Allow-Methods": "*",
                "Access-Control-Allow-Headers": "*",
                "Access-Control-Expose-Headers": "*"
            }
        },
        {
            "src": "/api/v1/project/(?<id>[^/]+)",
            "dest": "/api/project.go?id=$id&optype=get",
            "methods": [
                "GET",
                "OPTIONS"
            ],
            "headers": {
                "Access-Control-Allow-Origin": "*",
                "Access-Control-Allow-Methods": "*",
                "Access-Control-Allow-Headers": "*",
                "Access-Control-Expose-Headers": "*"
            }
        },
        {
            "src": "/api/v1/project/(?<id>[^/]+)",
            "dest": "/api/project.go?id=$id&optype=update",
            "methods": [
                "PUT",
                "OPTIONS"
            ],
            "headers": {
                "Access-Control-Allow-Origin": "*",
                "Access-Control-Allow-Methods": "*",
                "Access-Control-Allow-Headers": "*",
                "Access-Control-Expose-Headers": "*"
            }
        },
        {
            "src": "/api/v1/project/(?<id>[^/]+)/platform",
            "dest": "/api/project.go?id=$id&optype=platform",
            "methods": [
                "PUT",
                "OPTIONS"
            ],
            "headers": {
                "Access-Control-Allow-Origin": "*",
                "Access-Control-Allow-Methods": "*",
                "Access-Control-Allow-Headers": "*",
                "Access-Control-Expose-Headers": "*"
            }
        },
        {
            "src": "/api/v1/project/(?<id>[^/]+)/design",
            "dest": "/api/project.go?id=$id&optype=design",
            "methods": [
                "PUT",
                "OPTIONS"
            ],
            "headers": {
                "Access-Control-Allow-Origin": "*",
                "Access-Control-Allow-Methods": "*",
                "Access-Control-Allow-Headers": "*",
                "Access-Control-Expose-Headers": "*"
            }
        }
    ],
    "build": {
        "env": {
            "GOOS": "linux",
            "GOARCH": "amd64",
            "CGO_ENABLED": "0"
        }
    }
}